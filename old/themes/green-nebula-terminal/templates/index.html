{{ define "main" }}
<div class="container">
    <header>
        <div class="header-title">
            user@portfolio:~$ cat welcome.txt<span class="cursor"></span>
        </div>
        <nav>
            <a href="#about">[ABOUT]</a>
            <a href="#skills">[SKILLS]</a>
            <a href="#experience">[EXPERIENCE]</a>
            <a href="#blog">[BLOG]</a>
            <a href="#education">[EDUCATION]</a>
        </nav>
    </header>

    <!-- Theme Switcher -->
    <div class="theme-switcher">
        <span style="color: var(--terminal-green-dark)">$ theme:</span>
        <form style="display: flex; gap: 10px">
            <button
                type="submit"
                name="theme"
                value="default"
                hx-post="/api/theme"
                hx-vals='{"theme":"default"}'
                hx-indicator=".htmx-indicator"
            >
                [default]
            </button>
            <button
                type="submit"
                name="theme"
                value="dark"
                hx-post="/api/theme"
                hx-vals='{"theme":"dark"}'
                hx-indicator=".htmx-indicator"
            >
                [dark]
            </button>
            <button
                type="submit"
                name="theme"
                value="light"
                hx-post="/api/theme"
                hx-vals='{"theme":"light"}'
                hx-indicator=".htmx-indicator"
            >
                [light]
            </button>
        </form>
    </div>

    <!-- About Section -->
    <section id="about">
        <div class="section-header">$ cat ~/about.txt</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        <p>{{.Summary}}</p>
        <p style="margin-top: 20px; color: var(--terminal-green-light)">$ whoami</p>
        <p style="margin-top: 10px">
            <strong>{{.Name}}</strong><br>
            {{.Title}}<br>
            {{.Location}} | {{.Email}}
        </p>
    </section>

    <!-- Skills Section -->
    <section id="skills">
        <div class="section-header">$ cat ~/skills.txt</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        <div hx-get="/api/skills/partial" hx-trigger="load" hx-indicator=".htmx-indicator">
            <span class="htmx-indicator"></span>
            <div>Loading skills...</div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience">
        <div class="section-header">$ ls -la ~/experience/</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        <div hx-get="/api/experience/partial" hx-trigger="load" hx-indicator=".htmx-indicator">
            <span class="htmx-indicator"></span>
            <div>Loading experience...</div>
        </div>
    </section>

    <!-- Blog Section -->
    <section id="blog">
        <div class="section-header">$ ls -lt ~/blog/*.md</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        <div style="margin-bottom: 20px">
            <button hx-get="/api/posts/partial" hx-target="#posts-list" style="margin-right: 10px">
                All Posts
            </button>
        </div>
        <div id="posts-list" hx-get="/api/posts/partial" hx-trigger="load" hx-indicator=".htmx-indicator">
            <span class="htmx-indicator"></span>
            <div>Loading posts...</div>
        </div>
    </section>

    <!-- Education Section -->
    <section id="education">
        <div class="section-header">$ cat ~/education.txt</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        {{range .Education}}
        <div style="margin-bottom: 15px; padding-left: 15px; border-left: 2px solid var(--terminal-green-dark)">
            <strong style="color: var(--terminal-green-light)">{{.Degree}}</strong>
            <div style="color: var(--terminal-green-dark); font-size: 0.9em">
                {{.School}} {{if .Graduation}}" {{.Graduation}}{{end}}
            </div>
        </div>
        {{end}}
    </section>

    <!-- Certifications Section -->
    <section id="certifications">
        <div class="section-header">$ cat ~/certifications.txt</div>
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        {{range .Certifications}}
        <div style="margin-bottom: 15px; padding-left: 15px; border-left: 2px solid var(--terminal-green-dark)">
            <strong style="color: var(--terminal-green-light)">{{.Name}}</strong>
            <div style="color: var(--terminal-green-dark); font-size: 0.9em">
                {{.Issued}}
            </div>
        </div>
        {{end}}
    </section>

    <!-- Footer -->
    <footer style="text-align: center; padding: 40px 20px; color: var(--terminal-green-dark)">
        <div class="divider">
            --------------------------------------------------------------------------------
        </div>
        <p>
            <a href="{{.LinkedIn}}" style="color: var(--terminal-green); text-decoration: none; margin: 0 10px">
                [LinkedIn]
            </a>
            <a
                href="{{.Portfolio}}"
                style="color: var(--terminal-green); text-decoration: none; margin: 0 10px"
            >
                [Portfolio]
            </a>
            <a
                href="mailto:{{.Email}}"
                style="color: var(--terminal-green); text-decoration: none; margin: 0 10px"
            >
                [Email]
            </a>
        </p>
        <p style="margin-top: 20px; font-size: 0.9em">
            $ echo "Thanks for visiting"
        </p>
    </footer>
</div>
{{ end }}
